{"version":3,"file":"chat-pgs.js","sources":["../chat-pgs.js"],"sourcesContent":["const manageOpenAiApiKey = {\n    async checkApiKeyValidity(apiKey) {\n        const testURL = 'https://api.openai.com/v1/engines';\n\n        try {\n            const response = await fetch(testURL, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${apiKey}`,\n                },\n            });\n\n            return response.status === 200;\n        } catch (error) {\n            console.error('Error while checking API key validity:', error);\n            return false;\n        }\n    },\n\n    setOpenAiApiKey(apiKey) {\n        localStorage.OPENAI_API_KEY = apiKey;\n    },\n\n    getOpenAiApiKey() {\n        return localStorage.OPENAI_API_KEY;\n    },\n\n    deleteOpenAiApiKey() {\n        delete localStorage.OPENAI_API_KEY;\n    }\n}\n\nconst manageConversations = {\n\n}\n\nconst createChatCompletion = async (prompt, chatContext, apiKey) => {\n    const chatCompletionURL = 'https://api.openai.com/v1/chat/completions';\n\n    chatContext.push({ role: 'user', content: prompt });\n\n    try {\n        const response = await fetch(chatCompletionURL, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${apiKey}`,\n            },\n            body: JSON.stringify({\n                model: 'gpt-3.5-turbo',\n                messages: chatContext,\n            })\n        });\n\n        const data = await response.json();\n        const message = data.choices[0].message.content;\n\n        chatContext.push({ role: 'assistant', content: message });\n\n        return message;\n    } catch (error) {\n        console.error('Error while creating chat completion:', error);\n    }\n}\n\nexport {\n    manageOpenAiApiKey, createChatCompletion\n};\n"],"names":["manageOpenAiApiKey","apiKey","testURL","error","createChatCompletion","prompt","chatContext","chatCompletionURL","message"],"mappings":"AAAK,MAACA,IAAqB;AAAA,EACvB,MAAM,oBAAoBC,GAAQ;AAC9B,UAAMC,IAAU;AAEhB,QAAI;AASA,cARiB,MAAM,MAAMA,GAAS;AAAA,QAClC,QAAQ;AAAA,QACR,SAAS;AAAA,UACL,gBAAgB;AAAA,UAChB,eAAiB,UAAUD;AAAA,QAC9B;AAAA,MACjB,CAAa,GAEe,WAAW;AAAA,IAC9B,SAAQE,GAAP;AACE,qBAAQ,MAAM,0CAA0CA,CAAK,GACtD;AAAA,IACV;AAAA,EACJ;AAAA,EAED,gBAAgBF,GAAQ;AACpB,iBAAa,iBAAiBA;AAAA,EACjC;AAAA,EAED,kBAAkB;AACd,WAAO,aAAa;AAAA,EACvB;AAAA,EAED,qBAAqB;AACjB,WAAO,aAAa;AAAA,EACvB;AACL,GAMMG,IAAuB,OAAOC,GAAQC,GAAaL,MAAW;AAChE,QAAMM,IAAoB;AAE1B,EAAAD,EAAY,KAAK,EAAE,MAAM,QAAQ,SAASD,EAAM,CAAE;AAElD,MAAI;AAcA,UAAMG,KADO,OAZI,MAAM,MAAMD,GAAmB;AAAA,MAC5C,QAAQ;AAAA,MACR,SAAS;AAAA,QACL,gBAAgB;AAAA,QAChB,eAAiB,UAAUN;AAAA,MAC9B;AAAA,MACD,MAAM,KAAK,UAAU;AAAA,QACjB,OAAO;AAAA,QACP,UAAUK;AAAA,MAC1B,CAAa;AAAA,IACb,CAAS,GAE2B,QACP,QAAQ,CAAC,EAAE,QAAQ;AAExC,WAAAA,EAAY,KAAK,EAAE,MAAM,aAAa,SAASE,EAAO,CAAE,GAEjDA;AAAA,EACV,SAAQL,GAAP;AACE,YAAQ,MAAM,yCAAyCA,CAAK;AAAA,EAC/D;AACL;"}